# Pixel-vim

Pixel-vim 是一个基于 neovim 的桌面应用，它将 neovim 的普通模式和桌面模式结合在一起，实现了桌面模式和普通模式之间的无缝切换，是一个windows桌面应用。

## 特性

- 多模式切换
- 强大的拓展能力
- 强大的插件管理

### 多模式
- 默认的模式有：
   - 桌面模式(desktop)
   - 普通模式(normal)
   - 插入模式(insert)
   - 可视模式(visual)
- 拓展的模式有：
   - 终端模式(terminal)
   - 鼠标模式(mouse)

### 模式之间的从属关系

- 桌面模式：
   - 普通模式
   - 可视模式
   - 拓展的模式

- 普通模式：
   - 插入模式
   - 可视模式

## 桌面模式的功能
默认禁用所有快捷键

- `s`：
   - 识别当前聚焦应用的可点击元素
   - 字母显示在可点击的元素上
      - 字母只有单字母和双字母
      - 字母的显示位置：元素的左上角
      - 尽可能显示单字母，如果可是别元素过多，则显示双字母
      - 双字母不会出现重复字母，两个字母的组合不会同时出现正序和倒序
      - 对于显示单字母的情况，单击字母，模拟鼠标左键，双击字母，模拟鼠标右键
      - 对于显示双字母的情况，按顺序点击字母，模拟鼠标左键，按逆序点击字母，模拟鼠标右键
      - 不区分字母的大小写

- `f`:
   识别文本内的可点击元素
   - 字母显示在可点击的元素上
      - 字母只有单字母和双字母
      - 字母的显示位置：元素的左上角
      - 尽可能显示单字母，如果可是别元素过多，则显示双字母
      - 双字母不会出现重复字母，两个字母的组合不会同时出现正序和倒序
      - 对于显示单字母的情况，单击字母，模拟鼠标左键，双击字母，模拟鼠标右键
      - 对于显示双字母的情况，按顺序点击字母，模拟鼠标左键，按逆序点击字母，模拟鼠标右键
      

- `space`：
   呼出搜索框，类似于 everything 和 listary

- `/`:
   在当前应用聚焦的页面中，模拟 neovim 向下搜索文本
   `?`
   在当前应用聚焦的页面中，模拟 neovim 向上搜索文本

`hjkl`:
   在当前应用聚焦的页面中，模拟 neovim 的上下左右移动

`shift + hl`: 在当前应用前进或者后退

`shift + jk`: 在当前应用切换标签页

`alt + hjkl`: 在不同应用的窗口之间切换


`:`:
   - 呼出命令面板
   - `exit`：暂停应用运行
   - `K`: 临时启用快捷键，用户输入一个快捷键后，重新禁用系统快捷键
   - `mode`: 切换模式
   - `map`: 映射快捷键
- `esc`：
   - 退出当前模式
   - 如果当前模式是桌面模式，则退出桌面模式，返回普通模式
   - 如果当前模式是普通模式，则退出普通模式，返回桌面模式
   - 如果当前模式是可视模式，则退出可视模式，返回普通模式
   - 如果当前模式是插入模式，则退出插入模式，返回普通模式
   - 如果当前模式是终端模式，则退出终端模式，返回桌面模式
   - 如果当前模式是鼠标模式，则退出鼠标模式，返回桌面模式

## 普通模式的功能

完全照抄 neovim 的普通模式，

- `esc`：
   - 退出普通模式，返回桌面模式

## 更新记录

- [x] 添加窗口管理器，实现窗口切换
   - [ ] 添加窗口切换预览
   - [ ] 四方向切换窗口
   - [ ] 竖向瀑布流窗口切换，多条瀑布自动分类，自定义窗口分类
